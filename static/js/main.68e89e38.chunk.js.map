{"version":3,"sources":["components/Searchbar/Searchbar.js","services/pixabay.js","components/ImageGallery/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","state","searchValue","searchResults","handleSearchChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","event","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","PixabayFetch","base_url","api_key","_searchQuery","_page","params","searchQuery","page","url","axios","get","then","result","data","hits","catch","err","console","log","ImageGalleryItem","onClick","obj","id","src","webformatURL","alt","tags","Button","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Status","newPixabayFetch","ImageGallery","status","showModal","currentImg","handleClick","searchPhotos","prevState","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","onClickImg","prevProps","resetPage","color","height","width","timeout","length","map","item","largeImageURL","alert","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.68e89e38.chunk.js","sourcesContent":["import { Component } from \"react\"\r\nimport PropTypes from 'prop-types';\r\nexport default class Searchbar extends Component {\r\nstate ={\r\n  searchValue:\"\",\r\n  searchResults:[]\r\n}\r\nhandleSearchChange = e => {\r\n  this.setState({searchValue: e.currentTarget.value.toLowerCase()});\r\n}\r\nhandleSubmit = event=>{\r\n  event.preventDefault();\r\n  this.props.onSubmit(this.state.searchValue);\r\n  this.setState({searchValue:''});\r\n}\r\n\r\nrender(){\r\nreturn(\r\n    <header className=\"Searchbar\">\r\n  <form className=\"SearchForm\"\r\n  onSubmit={this.handleSubmit}>\r\n    <button type=\"submit\" \r\n    className=\"SearchForm-button\">\r\n    <span className=\"SearchForm-button-label\">Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className=\"SearchForm-input\"\r\n      type=\"text\"\r\n      value = {this.state.searchValue}\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n      onChange = {this.handleSearchChange}\r\n    />\r\n  </form>\r\n</header>\r\n)}\r\n}\r\nSearchbar.propTypes={\r\n  onSubmit:PropTypes.func.isRequired\r\n}","import axios from 'axios';\r\nexport class PixabayFetch{\r\n    constructor(base_url, api_key){ \r\n    this.base_url = base_url;\r\n    this.api_key=api_key;\r\n    this._searchQuery = '';\r\n    this._page = 1\r\n}\r\nget searchQuery (){\r\n  return this._searchQuery;\r\n};\r\nset searchQuery (value){\r\n  return (this._searchQuery = value);\r\n};\r\nget page(){\r\n  return this._page\r\n}\r\nset page(value) {\r\n  return (this._page += value);\r\n}\r\nresetPage() {\r\n  return (this._page = 1);\r\n}\r\n\r\nsearchPhotos(){\r\nlet params = `?q=${this.searchQuery}&page=${this.page}&key=${this.api_key}&image_type=photo&orientation=horizontal&per_page=12`\r\nlet url=`${this.base_url}${params}`;\r\nreturn axios.get(url)\r\n.then((result) =>{\r\nreturn result.data.hits})\r\n.catch(err =>{console.log(err);})\r\n}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import PropTypes from 'prop-types';\r\n\r\nexport function ImageGalleryItem({onClick,obj}){\r\n    return (\r\n    <li className=\"ImageGalleryItem\">\r\n    <img \r\n    id = {obj.id}\r\n    src={obj.webformatURL} \r\n    alt={obj.tags} \r\n    className=\"ImageGalleryItem-image\"\r\n    onClick={() => {\r\n      onClick(obj);\r\n    }} />\r\n  </li>\r\n  );\r\n}\r\nImageGalleryItem.propTypes={\r\n    onClick:PropTypes.func,\r\n    obj:PropTypes.object,\r\n}","import PropTypes from 'prop-types';\r\nexport default function Button ({onClick}){\r\n    return (\r\n        <button type='button' className=\"Button\" onClick={onClick}>\r\n            Load more\r\n            </button>\r\n    )\r\n}\r\nButton.propTypes={\r\n    onClick:PropTypes.func\r\n}","import React, {Component} from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from 'prop-types';\r\nconst modalRoot=document.querySelector('#modalRoot')\r\nexport default class Modal extends Component{\r\n\r\n    componentDidMount(){\r\n        window.addEventListener('keydown', this.handleKeydown)\r\n        }\r\n   \r\n    componentWillUnmount(){\r\n        window.removeEventListener('keydown',this.handleKeydown)\r\n    }\r\n\r\n    handleKeydown = e=>  {if(e.code==='Escape'){\r\n        console.log(\"press esc\")\r\n    this.props.onClose()\r\n    }};\r\n\r\n    handleBackdropClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n          this.props.onClose();\r\n        }\r\n      };\r\n\r\nrender(){\r\n    return createPortal(\r\n        <div className=\"Overlay\" onClick = {this.handleBackdropClick}>\r\n            <div className=\"Modal\">\r\n                 <img src={this.props.src} alt={this.props.alt} />\r\n             </div>\r\n        </div>, modalRoot\r\n    )\r\n}\r\n}\r\nModal.propTypes={\r\n    onClose:PropTypes.func,\r\n    src:PropTypes.string,\r\n    alt:PropTypes.string\r\n}","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { PixabayFetch } from '../../services/pixabay';\r\nimport { ImageGalleryItem } from \"./ImageGalleryItem\";\r\nimport Button from '../Button/Button';\r\nimport Modal from '../Modal/Modal';\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst Status = {\r\n    IDLE: 'idle',\r\n    PENDING: 'pending',\r\n    RESOLVED: 'resolved',\r\n    REJECTED: 'rejected',\r\n  };\r\n\r\nconst base_url = \"https://pixabay.com/api/\";\r\nconst api_key = \"23237261-94e774dc3474a501c481a5592\";\r\n\r\nconst newPixabayFetch= new PixabayFetch(base_url, api_key)\r\n\r\nexport class ImageGallery extends Component {\r\nstate = {\r\nsearchResults:[],\r\nstatus: Status.IDLE,\r\nshowModal:false,\r\ncurrentImg:\"\"\r\n}\r\n\r\ncomponentDidUpdate(prevProps,prevState){\r\n    if(prevProps.searchValue!==this.props.searchValue){\r\n        this.setState({status: Status.PENDING});\r\n        newPixabayFetch.resetPage();\r\n        newPixabayFetch.searchQuery=this.props.searchValue;\r\n      newPixabayFetch.searchPhotos()\r\n      .then ( searchResults => {\r\n      this.setState({searchResults, status:Status.RESOLVED})\r\n      })\r\n      .catch(err=>this.setState({status: Status.REJECTED}))\r\n      .finally(()=> {\r\n      this.setState({status:Status.RESOLVED})\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });})\r\n    }\r\n    }\r\n    handleClick = () =>{\r\n        this.setState({status:Status.PENDING })\r\n        newPixabayFetch.page=1;\r\n        newPixabayFetch.searchPhotos()\r\n      .then ( searchResults => {\r\n      this.setState((prevState)=>({searchResults: [...prevState.searchResults, ...searchResults], status: Status.RESOLVED}))})\r\n      .catch(err=>this.setState({status: Status.REJECTED}))\r\n      .finally(()=> {\r\n      this.setState({status:Status.RESOLVED})\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    });\r\n    }\r\n\r\n    toggleModal=()=>{\r\n      this.setState(({showModal})=>({\r\n        showModal:!showModal,\r\n      }))\r\n    } \r\n    onClickImg=(obj)=>{\r\n      // console.log(obj)\r\n      this.setState({currentImg:obj})\r\n      this.toggleModal();\r\n    }\r\n\r\nrender(){\r\n    const{searchResults, status, showModal, currentImg} = this.state;\r\n    if(status===\"idle\"){\r\n        return <div></div>\r\n    }\r\n    if(status===\"pending\"){\r\n        return (\r\n            <Loader\r\n            type=\"Grid\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000} //3 secs\r\n        />\r\n        )\r\n    }\r\n    if(status ===\"resolved\"){\r\n        return(\r\n            <>\r\n            <ul className=\"ImageGallery\"  >\r\n            {searchResults.length > 0 &&\r\n            searchResults.map((item) => { return(\r\n            <ImageGalleryItem key = {item.id} obj={item} onClick={this.onClickImg} />)})}\r\n            </ul>  \r\n            {searchResults.length > 0 && <Button onClick={this.handleClick}/>}\r\n            {showModal&&<Modal onClose={this.toggleModal} src={currentImg.largeImageURL} alt={currentImg.tags}></Modal>}\r\n    </>\r\n        )\r\n          }\r\n    if(status ===\"rejected\"){\r\n        return(\r\n            alert(\"Error! Try again!\")\r\n        )\r\n    } \r\n}\r\n}\r\nImageGallery.propTypes={\r\n  searchValue:PropTypes.string  \r\n}\r\n\r\n","import './App.css';\nimport React, {Component} from 'react'\nimport Searchbar from './components/Searchbar/Searchbar'\nimport { ImageGallery } from './components/ImageGallery/ImageGallery';\n\n\n\nclass App extends Component {\n  state ={\n    searchValue: \"\",\n  }\n\n  handleFormSubmit = searchValue =>{\n    this.setState({searchValue});\n  };\n\n\n\n  render(){\n    const{searchValue} = this.state;\n\n    return (\n    <div className=\"App\">\n<Searchbar onSubmit = {this.handleFormSubmit}></Searchbar>\n<ImageGallery searchValue={searchValue}></ImageGallery>\n    </div>\n  );\n  } \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}